[{"filePath":"/home/andrey/frontend-project-lvl2/__tests__/index.test.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/babel.config.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/src/bin/gendiff.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/src/formatters/index.js","messages":[{"ruleId":"no-undef","severity":2,"message":"'jsonRender' is not defined.","line":2,"column":9,"nodeType":"Identifier","messageId":"undef","endLine":2,"endColumn":19},{"ruleId":"no-undef","severity":2,"message":"'plainRender' is not defined.","line":3,"column":10,"nodeType":"Identifier","messageId":"undef","endLine":3,"endColumn":21},{"ruleId":"comma-dangle","severity":2,"message":"Missing trailing comma.","line":3,"column":21,"nodeType":"Property","messageId":"missing","fix":{"range":[57,57],"text":","}},{"ruleId":"eol-last","severity":2,"message":"Newline required at end of file but not found.","line":4,"column":3,"nodeType":"Program","messageId":"missing","fix":{"range":[60,60],"text":"\n"}}],"errorCount":4,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"export default {\n  json: jsonRender,\n  plain: plainRender\n};"},{"filePath":"/home/andrey/frontend-project-lvl2/src/formatters/json-formatter.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/src/formatters/plain-formatter.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/src/index.js","messages":[{"ruleId":"import/no-unresolved","severity":2,"message":"Unable to resolve path to module './formaters/index'.","line":3,"column":21,"nodeType":"Literal","endLine":3,"endColumn":40},{"ruleId":"import/extensions","severity":2,"message":"Missing file extension for \"./formaters/index\"","line":3,"column":21,"nodeType":"Literal","endLine":3,"endColumn":40},{"ruleId":"no-unused-vars","severity":2,"message":"'jsonRender' is defined but never used.","line":4,"column":8,"nodeType":"Identifier","endLine":4,"endColumn":18},{"ruleId":"no-unused-vars","severity":2,"message":"'plainRender' is defined but never used.","line":5,"column":8,"nodeType":"Identifier","endLine":5,"endColumn":19}],"errorCount":4,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import _ from 'lodash';\nimport parseContentOf from './modules/parsers';\nimport renders from './formaters/index';\nimport jsonRender from './formatters/json-formatter';\nimport plainRender from './formatters/plain-formatter';\n\nconst buildDiffs = (obj1, obj2) => {\n  const keysOfObj1 = Object.keys(obj1);\n  const keysOfObj2 = Object.keys(obj2);\n  const allUniqKeys = _.union(keysOfObj1, keysOfObj2);\n\n  return allUniqKeys.reduce((acc, key) => {\n    if (_.isObject(obj1[key]) && _.isObject(obj2[key])) {\n      return [...acc, { type: 'inner', name: key, children: buildDiffs(obj1[key], obj2[key]) }];\n    }\n    if (keysOfObj1.includes(key) && !keysOfObj2.includes(key)) {\n      return [...acc, { type: 'removed', name: key, value: obj1[key] }];\n    }\n    if (!keysOfObj1.includes(key) && keysOfObj2.includes(key)) {\n      return [...acc, { type: 'added', name: key, value: obj2[key] }];\n    }\n    if (obj1[key] === obj2[key]) {\n      return [...acc, { type: 'unchanged', name: key, value: obj1[key] }];\n    }\n    return [...acc, {\n      type: 'changed',\n      name: key,\n      oldValue: obj1[key],\n      newValue: obj2[key],\n    }];\n  }, []);\n};\n\nexport default (pathToFile1, pathToFile2, format = 'json') => {\n  const fileContents1 = parseContentOf(pathToFile1);\n  const fileContents2 = parseContentOf(pathToFile2);\n  const data = buildDiffs(fileContents1, fileContents2);\n  return renders[format](data);\n};\n"},{"filePath":"/home/andrey/frontend-project-lvl2/src/modules/parsers.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"/home/andrey/frontend-project-lvl2/src/modules/utils.js","messages":[],"errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0}]
